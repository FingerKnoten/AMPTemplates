[
    {
        "UpdateStageName": "Download Quake3e",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/ec-/Quake3e/releases/download/latest/quake3e-linux-x86_64.zip",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "Cleanup unnecessary Quake3e files ",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd ./quake3-arena/server/ && rm -f quake3e-vulkan.x64>/dev/null 2>&1 && rm -f quake3e.x64 > /dev/null 2>&1 && chmod +x quake3e.ded.x64\"",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Download Quake3 Client from Steam",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "SteamCMD",
        "UpdateSourceData": "2200",
        "UpdateSourceTarget": "{{$FullRootDir}}client",
        "ForceDownloadPlatform": "Windows"
    },    
    {
        "UpdateStageName": "Copy Pak0 and cleanup rest",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"\\mkdir ./quake3-arena/server/baseq3 >/dev/null 2>&1 && cp -rf ./quake3-arena/client/baseq3/pak0.pk3 ./quake3-arena/server/baseq3/ >/dev/null 2>&1 && rm -rf ./quake3-arena/client/ >/dev/null 2>&1\"",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Download latest patch",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://files.ioquake3.org/quake3-latest-pk3s.zip",
        "UpdateSourceTarget": "{{$FullRootDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "Copy Patch files and cleanup",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"\\cp -rf ./quake3-arena/quake3-latest-pk3s/baseq3/*.pk3 ./quake3-arena/server/baseq3/ >/dev/null 2>&1 && rm -rf ./quake3-arena/quake3-latest-pk3s/ >/dev/null 2>&1\"",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Download ExcessivePlus",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://www.excessiveplus.net/files/release/xp-2.3.zip",
        "UpdateSourceTarget": "{{$FullRootDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "Copy ExcessivePlus and cleanup",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"\\mv ./quake3-arena/excessiveplus/ ./quake3-arena/server/ >/dev/null 2>&1 && rm -rf ./quake3-arena/*.bat >/dev/null 2>&1 && rm -rf ./quake3-areana/server/excessiveplus/tools >/dev/null 2>&1 && rm -rf ./quake3-areana/server/excessiveplus/hud >/dev/null 2>&1\"",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Download instagib config",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://raw.githubusercontent.com/FingerKnoten/AMPTemplates/main/quake3-arenainstagib.cfg",
        "UpdateSourceArgs": "instagib.cfg",
        "UpdateSourceTarget": "{{$FullBaseDir}}excessiveplus/conf",
        "OverwriteExistingFiles": true
    }        
]